联合查询下，数据权限配置有些特殊的使用规则
### 准备示例数据
设计表如下：
- 主表：

|   字段     |说明     |
| --- | --- |
|    name|   名称  |
|    age|   年龄  |

- 一对多子表(附表序号1)：

|   字段     |说明     |
| --- | --- |
|    school|   学校  |
|    phone|   联系方式  |

- 一对一子表(附表序号2)：

|   字段     |说明     |
| --- | --- |
|  nation  |   名族|
|  place  |   籍贯 |

- 联合查询结果数据一览： 

![](images/ab3e310fe0954829d3643e0c474a28b8_1680x461.png)
### 需求： 只查询学校为【中学】的数据，即一对多子表字段school='中学'

### 示例一、在子表上配置数据规则及相关授权
1.找到该子表记录，在更多选项中找到权限控制，点击

![](images/c113e50d750054093a80e213925d5398_1658x257.png)
2.录入数据规则

![](images/ee8d1644904e808d51748a462f701f7a_778x373.png)
3.授权

![](images/2bc35d6d1caeb64aadb521ba99e7d96e_1537x302.png)
4.查看数据：

![](images/46816cbd990b41e49851ff57e4c781de_1673x327.png)

###  示例二、在主表配置自定义sql，查询子表字段
1.找到主表记录，在更多选项中找到权限控制，点击

![](images/7a30787a1b1e3495f79d378f3d3d7156_1647x318.png)

2.录入数据规则

![](images/22b2d9ba05c8a75607660c27a0757fd1_786x322.png)
3.授权

![](images/50a2003545f84cc2da2e8ef7bb57a5a0_1497x257.png)
4.查看数据：

![](images/8a428ebb8fb7d7c51b9ece0045923b9e_1676x344.png)

>[info] 总结： 
> 1.可以在子表上直接配置数据权限
> 2.可以在主表上配置自定义sql，sql中查询表的别名是根据表的顺序，由26个字母依次排序的。主表的别名一定是字母`a`，子表的别名取决于他的序号，序号从小到大，会依次分配`b,c,d...z`。上例中，一对多子表的序号是1，所以自定义sql中查询他的字段用的别名是`b`







